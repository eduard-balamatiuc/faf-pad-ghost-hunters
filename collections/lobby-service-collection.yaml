type: collection.insomnia.rest/5.0
name: lobby-service-collection
meta:
  id: wrk_6eecb94055814ebda631f375c0347380
  created: 1758869381407
  modified: 1758869400369
  description: ""
collection:
  - name: Authentication
    meta:
      id: fld_07a74f5f02b343edba1ea3ede45903f6
      created: 1695686400000
      modified: 1695686400000
      sortKey: -1695686399000
      description: Authentication related endpoints
    children:
      - url: "{{ _.base_url }}/auth/login"
        name: Login
        meta:
          id: req_179d632aca3e43aaa275653f7069400e
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Authenticate user and get JWT token
          sortKey: -1695686400000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "userId": "user123",
              "role": "player"
            }
        headers:
          - name: Content-Type
            value: application/json
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/auth/verify"
        name: Verify Token
        meta:
          id: req_25ba1d8714ef424e90b020ed27ed31d6
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Verify JWT token and get user info
          sortKey: -1695686398000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/auth/login"
        name: Login as Host
        meta:
          id: req_df3536a73c9b447b8d97ed2b0b358142
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Authenticate as host and get JWT token
          sortKey: -1695686399000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "userId": "host123",
              "role": "host"
            }
        headers:
          - name: Content-Type
            value: application/json
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Lobby Management
    meta:
      id: fld_41c35efbb0e045cd9aad80791843df6e
      created: 1695686400000
      modified: 1695686400000
      sortKey: -1695686398000
      description: Lobby creation and management endpoints
    children:
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}"
        name: Get Lobby
        meta:
          id: req_260074787f4842c7a0fa0c1ad369201b
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Get lobby details by ID
          sortKey: -1695686399000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies"
        name: Create Lobby
        meta:
          id: req_7421a6f8cf504236bc674c55466e4ab8
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Create a new game lobby (host only)
          sortKey: -1695686400000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "difficulty": "easy",
              "ghostType": "spirit"
            }
        headers:
          - name: Content-Type
            value: application/json
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/start"
        name: Start Lobby
        meta:
          id: req_fe6653d693ed4757a750d7e488ae46b8
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Start the game lobby (host only)
          sortKey: -1695686398000
        method: POST
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: User Management
    meta:
      id: fld_52591630230747f9bbb46fe92f9ab7e2
      created: 1695686400000
      modified: 1695686400000
      sortKey: -1695686397000
      description: User related endpoints within lobbies
    children:
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users/{{ _.user_id }}"
        name: Remove User from Lobby
        meta:
          id: req_37936721e6f943c39e161b21cf6fcc13
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Remove user from lobby (self or host)
          sortKey: -1695686399000
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users/{{ _.user_id }}/status"
        name: Get User Status
        meta:
          id: req_3fdd77432d8a4e42b4ea9f460a2f4db3
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Get user's death and sanity status
          sortKey: -1695686396000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/user"
        name: Add User to Lobby
        meta:
          id: req_575f0116358f4fd28a022f2fc1579918
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Add authenticated user to lobby
          sortKey: -1695686400000
        method: POST
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users/{{ _.user_id }}"
        name: Update User Loadout
        meta:
          id: req_730388deeaac4ff0ab59317b8e1b2db3
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Update user's equipment loadout
          sortKey: -1695686398000
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "items": [
                {
                  "itemId": "flashlight"
                },
                {
                  "itemId": "emf_reader"
                },
                {
                  "itemId": "spirit_box"
                }
              ]
            }
        headers:
          - name: Content-Type
            value: application/json
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users"
        name: Get Users in Lobby
        meta:
          id: req_839239eebdd1439f94d0cd5d9ac24fa7
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Get list of all users in lobby
          sortKey: -1695686397000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users/{{ _.user_id }}/items"
        name: Get User Items
        meta:
          id: req_895e5a138e3142c6851dfd49da5c1c59
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Get user's current items/loadout
          sortKey: -1695686394000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/users/{{ _.user_id }}/status"
        name: Update User Status (API Key)
        meta:
          id: req_d903c04a3b3f47949b2148cdd6843674
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Update user's death and sanity status (external services)
          sortKey: -1695686395000
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "deathStatus": false,
              "sanityLevel": 85
            }
        headers:
          - name: Content-Type
            value: application/json
          - name: X-API-Key
            value: "{{ _.api_key }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Game Data
    meta:
      id: fld_7414ca1d037b4a3abcbcfcc7687ffab3
      created: 1695686400000
      modified: 1695686400000
      sortKey: -1695686396000
      description: Game related data endpoints
    children:
      - url: "{{ _.base_url }}/lobbies/{{ _.lobby_id }}/ghost"
        name: Get Ghost Info
        meta:
          id: req_de14ed7e48f54651a75b28dd9a6911ac
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Get the true ghost type for the lobby
          sortKey: -1695686400000
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.jwt_token }}
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Public Endpoints
    meta:
      id: fld_dbc12904f13c4bb68ec9a1a66e821ea6
      created: 1695686400000
      modified: 1695686400000
      sortKey: -1695686400000
      description: Endpoints that don't require authentication
    children:
      - url: "{{ _.base_url }}/health"
        name: Health Check
        meta:
          id: req_a12b283cc7614b19af07d8a465c5b0a8
          created: 1695686400000
          modified: 1695686400000
          isPrivate: false
          description: Check service health status
          sortKey: -1695686400000
        method: GET
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_c872120790ba45d5adb62f0d65d32557
    created: 1695686400000
    modified: 1695686400000
environments:
  name: Base Environment
  meta:
    id: env_20d9ad9991f14d0090f8d95d662720ea
    created: 1695686400000
    modified: 1758912134034
    isPrivate: false
  data:
    base_url: http://localhost:8084
    jwt_token: ""
    lobby_id: ""
    user_id: ""
    api_key: ""
