# DOCKER COMPOSE ENVIRONMENT
PLATFORM=linux/amd64

# GATEWAY ENVIRONMENT
API_ENV=development
LOG_LEVEL=INFO
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
GATEWAY_API_EXPOSED_PORT=8000
GATEWAY_SERVICE_INTERNAL_BASE_URL=http://gateway-api:8000/api/v1/internal

# for the mb-test docker compose and in general..?
GATEWAY_PORT=8000
DISCOVERY_SERVICE_URL=http://discovery-service:8091
GATEWAY_REDIS_DB=0
CONCURRENT_TASK_LIMIT=50 
TASK_TIMEOUT=30

# REDIS CLUSTER GATEWAY (3 nodes for sharding via hash slots)
# Node 0
GATEWAY_REDIS_NODE_0_HOST=gateway-redis-node-0
GATEWAY_REDIS_NODE_0_PORT=7000
# Node 1
GATEWAY_REDIS_NODE_1_HOST=gateway-redis-node-1
GATEWAY_REDIS_NODE_1_PORT=7001
# Node 2
GATEWAY_REDIS_NODE_2_HOST=gateway-redis-node-2
GATEWAY_REDIS_NODE_2_PORT=7002
# Redis Insight UI
REDIS_INSIGHT_PORT=5540

# TASK EXECUTION LIMITS

# MESSAGE BROKER
MESSAGE_BROKER_HOST=message-broker
MESSAGE_BROKER_GRPC_PORT=50051
MESSAGE_BROKER_REQUEST_TIMEOUT=30
MESSAGE_BROKER_REPLY_QUEUE=gateway-replies

# MICRO SERVICES ENVIRONMENTS

## USER MANAGEMENT SERVICE

# User Management API Configuration
USER_MGMT_WEB_API_HOST=0.0.0.0:8001
USER_MGMT_API_HOST=user-mgmt-api
USER_MGMT_API_EXPOSED_PORT=8001

# User Management Service Configuration
USER_MGMT_BASE_URL=http://user-mgmt-api:8001
USER_MGMT_BASE_PATH=/v1/users

# User Management Auth Configuration
USER_MGMT_AUTH_KEYSFOLDER=
USER_MGMT_AUTH_ACTIVEKID=default

# User Management Database Configuration
USER_MGMT_DB_HOST=user-mgmt-postgres
USER_MGMT_DB_PORT=5432
USER_MGMT_DB_USER=postgres
USER_MGMT_DB_PASSWORD=postgres123
USER_MGMT_DB_DBNAME=user_management
USER_MGMT_DB_SSLMODE=disable

## INVENTORY SERVICE

# Inventory Service Configuration
INVENTORY_SVC_BASE_URL=http://inventory-api:8088
INVENTORY_SVC_PORT=8088
INVENTORY_SVC_BASE_PATH=/inventory

INVENTORY_SVC_DB_DATABASE=inventory_db
INVENTORY_SVC_DB_USERNAME=postgres
INVENTORY_SVC_DB_PASSWORD=postgres123
INVENTORY_SVC_DB_EXTERNAL_PORT=5433
INVENTORY_SVC_DB_SYNCHRONIZE=true

## CHAT SERVICE

# Chat Service Configuration
CHAT_SVC_BASE_URL=http://chat-api:8089
CHAT_SVC_BASE_PATH=

CHAT_SVC_PORT=8089

CHAT_SVC_MONGO_ROOT_USERNAME=admin
CHAT_SVC_MONGO_ROOT_PASSWORD=
CHAT_SVC_MONGO_DATABASE=chat-mongo
CHAT_SVC_MONGO_PORT=27017

## GHOST AI SERVICE

# Ghost AI Service Configuration
GHOST_AI_SVC_BASE_URL=http://ghost-ai-api:3000
GHOST_AI_SVC_PORT=3000
GHOST_AI_SVC_HOST=0.0.0.0

# Ghost AI Redis Configuration
GHOST_AI_SVC_REDIS_URL=redis://ghost-ai-redis:6382
GHOST_AI_SVC_REDIS_PORT=6372

## MAP SERVICE

# Map Service Configuration
MAP_SERVICE_SERVICE_CONTAINER_PORT=8085
MAP_SERVICE_SERVER_PORT=8085
MAP_SERVICE_REDIS_HOST=map-redis
MAP_SERVICE_REDIS_PORT=6375
MAP_SVC_BASE_URL=http://map-api:8085
MAP_SERVICE_TASK_TIMEOUT=25
MAP_SERVICE_MAX_CONCURRENT_TASKS=100

## LOBBY SERVICE

# Lobby Service Configuration
LOBBY_SERVICE_SERVICE_CONTAINER_PORT=8084
LOBBY_SERVICE_SERVER_PORT=8084
LOBBY_SERVICE_REDIS_HOST=lobby-redis
LOBBY_SERVICE_REDIS_PORT=6374
LOBBY_SVC_BASE_URL=http://lobby-api:8084
LOBBY_SERVICE_TASK_TIMEOUT=25
LOBBY_SERVICE_MAX_CONCURRENT_TASKS=100

## SHOP SERVICE

# Shop Service Client Configuration
SHOP_SVC_BASE_URL=http://shop-api:8082
SHOP_SVC_PORT=8082
SHOP_SVC_BASE_PATH=/api/shop

# Shop Service Container Configuration
SHOP_SERVICE_NEST_LOCAL_PORT=8082
SHOP_SERVICE_NEST_CONTAINER_PORT=8082
SHOP_SERVICE_THROTTLE_GLOBAL_TTL=1000
SHOP_SERVICE_THROTTLE_GLOBAL_LIMIT=3
SHOP_SERVICE_REQUEST_TIMEOUT=2000

# Shop Service DB Configuration

SHOP_SERVICE_POSTGRES_USER=postgres
SHOP_SERVICE_DB_USER=postgres
SHOP_SERVICE_POSTGRES_PASSWORD=
SHOP_SERVICE_DB_PASSWORD=
SHOP_SERVICE_POSTGRES_DB=shop_db
SHOP_SERVICE_DB_NAME=shop_db
SHOP_SERVICE_DB_HOST=shop-postgres
SHOP_SERVICE_DB_PORT=5434
SHOP_SERVICE_LOCAL_DB_PORT=5434

## JOURNAL SERVICE

# Journal Service Client Configuration
JOURNAL_SVC_BASE_URL=http://journal-api:8083
JOURNAL_SVC_PORT=8083
JOURNAL_SVC_BASE_PATH=/api/journal

# Journal Service Container Configuration
JOURNAL_SERVICE_GO_LOCAL_PORT=8083
JOURNAL_SERVICE_GO_CONTAINER_PORT=8083
JOURNAL_SERVICE_THROTTLE_GLOBAL_TTL=1000
JOURNAL_SERVICE_THROTTLE_GLOBAL_LIMIT=5
JOURNAL_SERVICE_REQUEST_TIMEOUT=2000

# Journal Service Redis Configuration
JOURNAL_SERVICE_REDIS_HOST=journal-redis
JOURNAL_SERVICE_APP_HOST=0.0.0.0
JOURNAL_SERVICE_REDIS_PASSWORD=
JOURNAL_SERVICE_REDIS_CONTAINER_PORT=6379
JOURNAL_SERVICE_REDIS_HOST_PORT=6383

## GHOST SERVICE

# Ghost Service Configuration
GHOST_SVC_PORT=8086
GHOST_SVC_HOST=0.0.0.0
GHOST_SVC_ENVIRONMENT=development
GHOST_SVC_BASE_URL=http://ghost-api:8086
GHOST_SVC_BASE_PATH=/ghost

# Ghost Service Database Configuration
GHOST_SVC_DB_HOST=ghost-postgres
GHOST_SVC_DB_PORT=5436
GHOST_SVC_DB_USER=ghost_user
GHOST_SVC_DB_PASSWORD=ghostdb123
GHOST_SVC_DB_NAME=ghost_db
GHOST_SVC_DB_URL=postgres://ghost_user:ghostdb123@ghost-postgres:5436/ghost_db?sslmode=disable

# Ghost Service Settings
GHOST_SVC_DEBUG=false
GHOST_SVC_GIN_MODE=release
GHOST_SVC_LOG_LEVEL=info
GHOST_SVC_MAX_GHOSTS_PER_LOBBY=1
GHOST_SVC_GHOST_TTL=7200
GHOST_SVC_SYMPTOM_TTL=3600
GHOST_SVC_DEFAULT_GHOST_AGGRESSION=0.3
GHOST_SVC_EVIDENCE_GENERATION_RATE=0.5
GHOST_SVC_HUNT_COOLDOWN_SECONDS=30
GHOST_SVC_AUTO_POPULATE_DATA=true
GHOST_SVC_LOG_FORMAT=json

## LOCATION SERVICE

# Location Service Configuration
LOCATION_SVC_PORT=8087
LOCATION_SVC_HOST=0.0.0.0
LOCATION_SVC_ENVIRONMENT=development
LOCATION_SVC_BASE_URL=http://location-api:8087
LOCATION_SVC_BASE_PATH=/location

# Location Service Redis Configuration
LOCATION_SVC_REDIS_PORT=6377

# Location Service Settings
LOCATION_SVC_DEBUG=false
LOCATION_SVC_LOG_LEVEL=info
LOCATION_SVC_MAX_PLAYERS_PER_LOBBY=8
LOCATION_SVC_LOCATION_TTL=3600
LOCATION_SVC_LOBBY_TTL=7200
LOCATION_SVC_HAUNTING_TTL=3600
LOCATION_SVC_DEFAULT_PLAYER_SANITY=100
LOCATION_SVC_GHOST_DETECTION_RATE=0.3
LOCATION_SVC_MOCK_EXTERNAL_SERVICES=true
LOCATION_SVC_AUTO_POPULATE_DATA=true
LOCATION_SVC_LOG_FORMAT=json
LOCATION_SVC_HEALTH_ENDPOINT=/health
LOCATION_SVC_HEALTH_TIMEOUT=10

## AIRFLOW

# Airflow Database Configuration
AIRFLOW_DB_HOST=airflow-postgres
AIRFLOW_DB_PORT=5440
AIRFLOW_DB_NAME=airflow
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow123

# Airflow Web Configuration
AIRFLOW_WEBSERVER_PORT=8090
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin

# Airflow Security (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
AIRFLOW_FERNET_KEY=

## CLICKHOUSE (Data Warehouse)

# ClickHouse Configuration
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DB=warehouse
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=clickhouse123

# Grafana and Prometheus
GF_SECURITY_ADMIN_PASSWORD=
GF_SMTP_ENABLED=true
GF_SMTP_HOST=
GF_SMTP_USER=
GF_SMTP_PASSWORD=
GF_SMTP_FROM_ADDRESS=
GF_SMTP_FROM_NAME=